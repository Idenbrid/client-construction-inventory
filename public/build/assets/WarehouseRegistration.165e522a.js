import{_,a as n,o,c as i,b as e,d as f,f as g,t as d,e as w,F as m,r as v}from"./app.07cafa55.js";const p={data(){return{record:{warehouse_name:"",id:0},errors:[],list:[]}},created(){this.getList()},methods:{editWarehouse(s){this.record.id=s.id,this.record.warehouse_name=s.warehouse_name},handleSave(){Swal.fire({text:"Please Wait...",didOpen:()=>{Swal.showLoading()}}),n.post("/api/warehouse",this.record).then(s=>{s.data.success==!1?(Swal.close(),this.errors=s.data.errors):(Swal.close(),this.clear(),this.errors=[],Swal.fire({icon:"success",title:"Warehouse has been registered successfully."}),this.getList())})},handleUpdate(){Swal.fire({text:"Please Wait...",didOpen:()=>{Swal.showLoading()}}),n.patch("/api/warehouse/update",this.record).then(s=>{s.data.success==!1?(Swal.close(),this.errors=s.data.errors):(Swal.close(),this.clear(),this.errors=[],Swal.fire({icon:"success",title:"Warehouse has been updated successfully..."}),this.getList())})},clear(){this.record={warehouse_name:"",id:0},this.errors=[]},getList(){n.get("/api/warehouse").then(s=>{this.list=s.data})},deleteWarehouse(s){Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&n.delete("/api/warehouse/"+s).then(c=>{c.data.success==!0?(Swal.fire("Deleted!","Your data has been deleted.","success"),this.getList()):c.data.message=="inUse"?(Swal.close(),Swal.fire({icon:"info",title:"Warehouse can't delete because its in use."})):Swal.fire("Error!","Warehouse not found. Please reload the page and try agian. Thanks","error")})})}}},b={class:"section-registration"},S={class:"container-fluid p-0"},k={class:"main-content main-content-bg"},C=e("div",{class:"master-registration-title"},[e("h5",{class:"content-h1"},"\u8CC7\u6750\u7F6E\u304D\u5834\u30DE\u30B9\u30BF\u767B\u9332")],-1),y={class:"master-registration-form"},W={class:"master-reg-row"},x={class:"master-reg-form"},L={class:"account-input-content"},B=e("div",{class:"account-reg-lablel"},[e("label",{class:"f-16-regular mb-0"},"\u8CC7\u6750\u7F6E\u304D\u5834\u540D\u79F0")],-1),U={class:"account-reg-input"},D={key:0,class:"text-danger float-left"},P={class:"register-buttons"},T={key:0},V={key:1},Y={class:"table-col"},E={class:"master-registration-right-contet"},F={class:"registration-table"},N=e("thead",null,[e("tr",{class:"f-12-regular"},[e("th",null,"#"),e("th",null,"\u7F6E\u304D\u5834\u540D\u79F0"),e("th")])],-1),O={class:"btn-grouped"},A=["onClick"],M=e("i",{class:"fa-solid fa-trash-can delete-icon"},null,-1),R=[M],j=["onClick"],q=e("i",{class:"fas fa-edit edit-icon","aria-hidden":"true"},null,-1),z=[q];function G(s,t,c,H,r,l){return o(),i("section",b,[e("div",S,[e("div",k,[C,e("div",y,[e("div",W,[e("div",x,[e("div",L,[B,e("div",U,[f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>r.record.warehouse_name=a),class:"master-reg-input",type:"text",name:"\u8CC7\u6750\u7F6E\u304D\u5834\u540D\u79F0",id:"\u8CC7\u6750\u7F6E\u304D\u5834\u540D\u79F0",placeholder:"\u30C6\u30AD\u30B9\u30C8"},null,512),[[g,r.record.warehouse_name]]),e("small",null,[r.errors.warehouse_name!=null?(o(),i("span",D,d(r.errors.warehouse_name[0]),1)):w("",!0)])])]),e("div",P,[r.record.id==0?(o(),i("div",T,[e("a",{class:"register-btn",onClick:t[1]||(t[1]=a=>l.handleSave())},"\u767B\u9332")])):(o(),i("div",V,[e("a",{class:"update-btn",onClick:t[2]||(t[2]=a=>l.handleUpdate())},"\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8")])),e("div",null,[e("a",{class:"clear-btn",onClick:t[3]||(t[3]=a=>l.clear())},"\u524A\u9664")])])]),e("div",Y,[e("div",E,[e("table",F,[N,e("tbody",null,[(o(!0),i(m,null,v(r.list,(a,h)=>(o(),i("tr",{class:"f-12-regular",key:h},[e("td",null,d(h+1),1),e("td",null,d(a.warehouse_name),1),e("td",null,[e("div",O,[e("a",{class:"btn",onClick:u=>l.deleteWarehouse(a.id)},R,8,A),e("a",{class:"btn",onClick:u=>l.editWarehouse(a)},z,8,j)])])]))),128))])])])])])])])])])}const J=_(p,[["render",G]]);export{J as default};
