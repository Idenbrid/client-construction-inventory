import{_ as b,a as u,o as l,c as r,b as e,w as v,d as c,v as f,F as _,r as m,t as a,e as d,f as h,g as n}from"./app.07cafa55.js";const w={data(){return{order:{job_number:{},site_name:"",order_date:"",client_id:"",item_id:"",stocker_id:"",amount:""},sites:[],items:[],warehouses:[],users:[],errors:[],list:[]}},watch:{$route(o,i){o!==i&&(this.order={job_number:{},site_name:"",order_date:"",client_id:"",item_id:"",stocker_id:"",amount:""},this.errors=[])}},created(){this.getSettings(),this.$route.params.id!=""&&this.getOrder()},methods:{handleOrder(){Swal.fire({text:"Please Wait...",didOpen:()=>{Swal.showLoading()}}),this.$route.params.id!=""?this.$route.params.type=="update"?this.updateOrder():this.$route.params.type=="duplicate"&&this.newOrder():this.newOrder()},updateOrder(){u.patch("/api/order",this.order).then(o=>{o.data.success==!1?(Swal.close(),this.errors=o.data.errors):(Swal.close(),this.clear(),this.errors=[],Swal.fire({icon:"success",title:"Order has been updated successfully."}),this.$router.push("/waiting-list"))})},newOrder(){u.post("/api/order",this.order).then(o=>{o.data.success==!1?(Swal.close(),this.errors=o.data.errors):(Swal.close(),this.clear(),this.errors=[],Swal.fire({icon:"success",title:"Order has been registered successfully."}))})},clear(){this.order={job_number:{},site_name:"",order_date:"",client_id:"",item_id:"",stocker_id:"",amount:""},this.errors=[]},getSettings(){u.get("/api/get-settings").then(o=>{this.sites=o.data.sites,this.items=o.data.items,this.users=o.data.users,this.warehouses=o.data.warehouses})},getOrder(){u.get("/api/order/"+this.$route.params.id).then(o=>{this.order.id=o.data.id,this.order.job_number=o.data.job,this.order.site_name=o.data.job.site_name,this.order.order_date=o.data.order_date,this.order.client_id=o.data.client_id,this.order.item_id=o.data.item_id,this.order.stocker_id=o.data.stocker_id,this.order.amount=o.data.amount})}}},g={class:"container-fluid p-0"},k={class:"main-content main-content-bg"},y=e("h1",{class:"content-h1"},"1.\u3000\u767A\u6CE8\u767B\u9332",-1),O={class:"order-reg-card"},F={class:"container"},x={class:"row"},S={class:"col-md-12 p-0"},j={class:"switch-div"},N=n('<ul class="switch-div on-off-buttons"><li class="switch-btns"><div class="mr-1"><input type="radio" class="btn-check" value="\u73FE\u7269" name="options" id="classification-on" autocomplete="off"><label class="on-radio-btn" for="classification-on">ON</label></div><div class="mr-0"><input type="radio" class="btn-check" value="\u4FE1\u7528" name="options" id="classification-off" autocomplete="off"><label class="off-radio-btn" for="classification-off">OFF</label></div></li></ul>',1),V={class:"form-fields"},U=e("div",{class:"register-label align-items-center"},"JOB\u756A\u53F7",-1),q={class:"order-input-field"},B=["value"],D={key:0,class:"text-danger float-left"},M={class:"switch-div"},J=n('<ul class="switch-div on-off-buttons"><li class="switch-btns"><div class="mr-1"><input type="radio" class="btn-check" value="\u73FE\u7269" name="options" id="site-name-on" autocomplete="off"><label class="on-radio-btn" for="site-name-on">ON</label></div><div class="mr-0"><input type="radio" class="btn-check" value="\u4FE1\u7528" name="options" id="site-name-off" autocomplete="off"><label class="off-radio-btn" for="site-name-off">OFF</label></div></li></ul>',1),L={class:"form-fields"},C=e("div",{class:"register-label"},"\u73FE\u5834\u540D\uFF08\u81EA\u52D5\u5165\u529B\uFF09",-1),E={class:"order-input-field"},P=["value"],T={key:0,class:"text-danger float-left"},W={class:"switch-div"},z=n('<ul class="switch-div on-off-buttons"><li class="switch-btns"><div class="mr-1"><input type="radio" class="btn-check" value="\u73FE\u7269" name="options" id="order-date-on" autocomplete="off"><label class="on-radio-btn" for="order-date-on">ON</label></div><div class="mr-0"><input type="radio" class="btn-check" value="\u4FE1\u7528" name="options" id="order-date-off" autocomplete="off"><label class="off-radio-btn" for="order-date-off">OFF</label></div></li></ul>',1),A={class:"form-fields"},G=e("div",{class:"register-label"},"order date\uFF08\u30AB\u30EC\u30F3\u30C0\u30FC\uFF09",-1),H={class:"date"},I=["min"],K={key:0,class:"text-danger float-left"},Q={class:"switch-div"},R=n('<ul class="switch-div on-off-buttons"><li class="switch-btns"><div class="mr-1"><input type="radio" class="btn-check" value="\u73FE\u7269" name="options" id="order-select-on" autocomplete="off"><label class="on-radio-btn" for="order-select-on">ON</label></div><div class="mr-0"><input type="radio" class="btn-check" value="\u4FE1\u7528" name="options" id="order-select-off" autocomplete="off"><label class="off-radio-btn" for="order-select-off">OFF</label></div></li></ul>',1),X={class:"form-fields"},Y=e("div",{class:"register-label"},"\u767A\u6CE8\u8005\uFF08\u9078\u629E\uFF09",-1),Z={class:"order-input-field"},$=["value"],ee={key:0,class:"text-danger float-left"},se={class:"switch-div"},te=n('<ul class="switch-div on-off-buttons"><li class="switch-btns"><div class="mr-1"><input type="radio" class="btn-check" value="\u73FE\u7269" name="options" id="product-name-on" autocomplete="off"><label class="on-radio-btn" for="product-name-on">ON</label></div><div class="mr-0"><input type="radio" class="btn-check" value="\u4FE1\u7528" name="options" id="product-name-off" autocomplete="off"><label class="off-radio-btn" for="product-name-off">OFF</label></div></li></ul>',1),oe={class:"form-fields"},ie=e("div",{class:"register-label"},"\u54C1\u540D\uFF08\u9078\u629E\uFF09",-1),le={class:"order-input-field"},re=["value"],ae={key:0,class:"text-danger float-left"},de={class:"switch-div"},ne=n('<ul class="switch-div on-off-buttons"><li class="switch-btns"><div class="mr-1"><input type="radio" class="btn-check" value="\u73FE\u7269" name="options" id="warehouse-on" autocomplete="off"><label class="on-radio-btn" for="warehouse-on">ON</label></div><div class="mr-0"><input type="radio" class="btn-check" value="\u4FE1\u7528" name="options" id="warehouse-off" autocomplete="off"><label class="off-radio-btn" for="warehouse-off">OFF</label></div></li></ul>',1),ce={class:"form-fields"},ue=e("div",{class:"register-label"},"warehouses",-1),fe={class:"order-input-field"},_e=["value"],me={key:0,class:"text-danger float-left"},he={class:"switch-div"},pe=n('<ul class="switch-div on-off-buttons"><li class="switch-btns"><div class="mr-1"><input type="radio" class="btn-check" value="\u73FE\u7269" name="options" id="quantity-on" autocomplete="off"><label class="on-radio-btn" for="quantity-on">ON</label></div><div class="mr-0"><input type="radio" class="btn-check" value="\u4FE1\u7528" name="options" id="quantity-off" autocomplete="off"><label class="off-radio-btn" for="quantity-off">OFF</label></div></li></ul>',1),be={class:"form-fields"},ve=e("div",{class:"register-label",bis_skin_checked:"1"},"\u6570\u91CF\uFF08\u6570\u5B57\u5165\u529B\uFF09",-1),we={class:"order-input-field"},ge={key:0,class:"text-danger float-left"},ke=e("div",{class:"col-md-12 m-auto text-right"},[e("input",{type:"submit",class:"btn-submit",value:"\u767B\u9332"})],-1);function ye(o,i,Oe,Fe,s,p){return l(),r("div",g,[e("div",k,[y,e("div",O,[e("form",{class:"order-register-form",onSubmit:i[6]||(i[6]=v(t=>p.handleOrder(),["prevent"]))},[e("div",F,[e("div",x,[e("div",S,[e("ul",j,[N,e("li",V,[U,e("div",q,[c(e("select",{"onUpdate:modelValue":i[0]||(i[0]=t=>s.order.job_number=t),class:"input-border",name:"cars",id:"cars"},[(l(!0),r(_,null,m(s.sites,t=>(l(),r("option",{value:t},a(t.job_number),9,B))),256))],512),[[f,s.order.job_number]]),e("small",null,[s.errors.job_number!=null?(l(),r("span",D,a(s.errors.job_number[0]),1)):d("",!0)])])])]),e("ul",M,[J,e("li",L,[C,e("div",E,[e("input",{disabled:"",type:"text",value:s.order.site_name=s.order.job_number.site_name,id:"fname",name:"fname",placeholder:"\u30C6\u30AD\u30B9\u30C8",class:"form-control input-border"},null,8,P),e("small",null,[s.errors.site_name!=null?(l(),r("span",T,a(s.errors.site_name[0]),1)):d("",!0)])])])]),e("ul",W,[z,e("li",A,[G,e("div",H,[c(e("input",{type:"date","onUpdate:modelValue":i[1]||(i[1]=t=>s.order.order_date=t),id:"date",name:"datebirth",min:new Date().toJSON().slice(0,10).replace(/-/g,"-"),class:"form-control input-border"},null,8,I),[[h,s.order.order_date]]),e("small",null,[s.errors.order_date!=null?(l(),r("span",K,a(s.errors.order_date[0]),1)):d("",!0)])])])]),e("ul",Q,[R,e("li",X,[Y,e("div",Z,[c(e("select",{class:"input-border","onUpdate:modelValue":i[2]||(i[2]=t=>s.order.client_id=t),name:"cars",id:"cars"},[(l(!0),r(_,null,m(s.users,t=>(l(),r("option",{value:t.id},a(t.user_name),9,$))),256))],512),[[f,s.order.client_id]]),e("small",null,[s.errors.client_id!=null?(l(),r("span",ee,a(s.errors.client_id[0]),1)):d("",!0)])])])]),e("ul",se,[te,e("li",oe,[ie,e("div",le,[c(e("select",{class:"input-border","onUpdate:modelValue":i[3]||(i[3]=t=>s.order.item_id=t),name:"cars",id:"cars"},[(l(!0),r(_,null,m(s.items,t=>(l(),r("option",{value:t.id},a(t.item_name),9,re))),256))],512),[[f,s.order.item_id]]),e("small",null,[s.errors.item_id!=null?(l(),r("span",ae,a(s.errors.item_id[0]),1)):d("",!0)])])])]),e("ul",de,[ne,e("li",ce,[ue,e("div",fe,[c(e("select",{class:"input-border","onUpdate:modelValue":i[4]||(i[4]=t=>s.order.stocker_id=t),name:"cars",id:"cars"},[(l(!0),r(_,null,m(s.warehouses,t=>(l(),r("option",{value:t.id},a(t.warehouse_name),9,_e))),256))],512),[[f,s.order.stocker_id]]),e("small",null,[s.errors.stocker_id!=null?(l(),r("span",me,a(s.errors.stocker_id[0]),1)):d("",!0)])])])]),e("ul",he,[pe,e("li",be,[ve,e("div",we,[c(e("input",{type:"number",id:"fname","onUpdate:modelValue":i[5]||(i[5]=t=>s.order.amount=t),name:"fname",min:"1",placeholder:"\u30C6\u30AD\u30B9\u30C8",class:"form-control input-border"},null,512),[[h,s.order.amount]]),e("small",null,[s.errors.amount!=null?(l(),r("span",ge,a(s.errors.amount[0]),1)):d("",!0)])])])])])]),ke])],32)])])])}const Se=b(w,[["render",ye]]);export{Se as default};
