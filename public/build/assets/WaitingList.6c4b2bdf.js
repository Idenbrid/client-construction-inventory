import{_ as b,a as d,o,c as l,b as e,F as r,r as c,d as p,v as g,w as u,h as v,t as s,i as f,j as w,k as y}from"./app.864d5ab7.js";const k={data(){return{list:[],warehouse:[],record:{warehouse_id:"",order_id:""}}},created(){this.getWaitingList(),this.getWarehouse()},methods:{moveToDelivery(){d.post("/api/move-to-delivery-list",this.record).then(a=>{a.data.success==!1?(Swal.close(),Swal.fire({icon:"error",title:"Something went wrong please reload the page and try again. Thanks"}),this.record={warehouse_id:"",order_id:""}):(Swal.close(),Swal.fire({icon:"success",title:"Order has been updated successfully."}),this.record={warehouse_id:"",order_id:""},this.getWaitingList())}).error(a=>{Swal.fire({icon:"error",title:"Something went wrong please reload the page and try again. Thanks"})})},getWarehouse(){d.get("/api/warehouse").then(a=>{this.warehouse=a.data})},getWaitingList(){d.get("/api/orders/ordered").then(a=>{this.list=a.data,this.list.length>0&&$(document).ready(function(){$("#waiting_list_table").DataTable({responsive:{breakpoints:[{name:"desktop",width:1/0},{name:"tablet",width:1024},{name:"phone",width:320}]},searching:!1,info:!1,autoWidth:!1,lengthChange:!1})})})}}},S={class:"container-fluid p-0"},x={class:"main-content main-content-bg"},C=e("h1",{class:"content-h1"},"2.\u3000\u7D0D\u54C1\u5F85\u3061\u4E00\u89A7",-1),W={class:"table-card table-responsive-sm"},j={id:"waiting_list_table",class:"table table-striped custom-table-list"},B=e("thead",null,[e("tr",null,[e("th",null,"\u767A\u6CE8\u5E74\u6708\u65E5"),e("th",null,"\u767A\u6CE8\u8005"),e("th",null,"\u5206\u985E"),e("th",null,"\u30E1\u30FC\u30AB\u30FC"),e("th",null,"\u54C1\u540D"),e("th",null,"\u578B\u756A"),e("th",null,"\u6570\u91CF"),e("th",null,"\u30B8\u30E7\u30D6\u756A\u53F7"),e("th",null,"\u73FE\u5834\u540D"),e("th")])],-1),L={class:"btn-rev-del"},T=["onClick"],D=e("a",{type:"button",class:"copy-content-btn disabled",value:"\u767B\u9332"},"\u5185\u5BB9\u30B3\u30D4\u30FC",-1),V={class:"modal fade",id:"staticBackdrop","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},N={class:"modal-dialog modal-dialog-centered"},F={class:"modal-content"},M=e("div",{class:"modal-header border-0"},[e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),E={class:"modal-body"},H={class:"form-fields justify-content-center"},I=e("div",{class:"register-label align-items-center",bis_skin_checked:"1"},"\u7F6E\u304D\u5834\u767B\u9332",-1),O=["value"],U={class:"modal-footer border-0 justify-content-center"};function q(a,n,z,A,i,h){const _=v("router-link");return o(),l("div",S,[e("div",x,[C,e("div",W,[e("table",j,[B,e("tbody",null,[(o(!0),l(r,null,c(i.list,(t,m)=>(o(),l("tr",{key:m},[e("td",null,s(t.order_date),1),e("td",null,s(t.orderer.user_name),1),e("td",null,s(t.item.category),1),e("td",null,s(t.item.manufacturer),1),e("td",null,s(t.item.item_name),1),e("td",null,s(t.item.item_number),1),e("td",null,s(t.amount),1),e("td",null,s(t.job.job_number),1),e("td",null,s(t.job.site_name),1),e("td",null,[e("div",L,[e("a",{type:"button",class:"delivery-btn",onClick:u(G=>i.record.order_id=t.id,["prevent"]),value:"\u767B\u9332","data-toggle":"modal","data-target":"#staticBackdrop"},"\u7D0D\u54C1",8,T),f(_,{to:{name:"Home",params:{id:t.id}},type:"submit",class:"revision-btn",value:"\u767B\u9332"},{default:w(()=>[y("\u4FEE\u6B63")]),_:2},1032,["to"]),D])])]))),128))])])]),e("div",V,[e("div",N,[e("div",F,[M,e("div",E,[e("div",H,[I,p(e("select",{class:"input-border","onUpdate:modelValue":n[0]||(n[0]=t=>i.record.warehouse_id=t),id:"cars"},[(o(!0),l(r,null,c(i.warehouse,t=>(o(),l("option",{value:t.id},s(t.warehouse_name),9,O))),256))],512),[[g,i.record.warehouse_id]])])]),e("div",U,[e("button",{onClick:n[1]||(n[1]=u(t=>h.moveToDelivery(),["prevent"])),type:"button",class:"complete-btn","data-dismiss":"modal"},"\u7D0D\u54C1\u6E08\u307F")])])])])])])}const K=b(k,[["render",q]]);export{K as default};
