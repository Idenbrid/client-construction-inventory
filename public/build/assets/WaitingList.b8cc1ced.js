import{_ as f,a as d,o as l,c as o,b as e,F as c,r as u,d as g,v as w,w as h,h as y,t as s,i as _,j as m,k as p}from"./app.fe49b883.js";const k={data(){return{list:[],warehouse:[],record:{warehouse_id:"",order_id:""}}},created(){this.getWaitingList(),this.getWarehouse()},methods:{moveToDelivery(){d.post("/api/move-to-delivery-list",this.record).then(a=>{a.data.success==!1?(Swal.close(),Swal.fire({icon:"error",title:"Please select warehouse!"})):(Swal.close(),Swal.fire({icon:"success",title:"Order has been updated successfully."}),this.record={warehouse_id:"",order_id:""},this.getWaitingList(),$("#staticBackdrop").modal("hide"))}).error(a=>{Swal.fire({icon:"error",title:"Something went wrong please reload the page and try again. Thanks"})})},getWarehouse(){d.get("/api/warehouse").then(a=>{this.warehouse=a.data})},getWaitingList(){d.get("/api/orders/ordered").then(a=>{this.list=a.data,this.list.length>0&&$(document).ready(function(){$("#waiting_list_table").DataTable({responsive:{breakpoints:[{name:"desktop",width:1/0},{name:"tablet",width:1024},{name:"phone",width:320}]},searching:!1,info:!1,autoWidth:!1,lengthChange:!1})})})}}},S={class:"container-fluid p-0"},x={class:"main-content main-content-bg"},B=e("h1",{class:"content-h1"},"2.\u3000\u7D0D\u54C1\u5F85\u3061\u4E00\u89A7",-1),C={class:"table-card table-responsive-sm"},W={id:"waiting_list_table",class:"table table-striped custom-table-list"},j=e("thead",null,[e("tr",null,[e("th",null,"\u767A\u6CE8\u5E74\u6708\u65E5"),e("th",null,"\u767A\u6CE8\u8005"),e("th",null,"\u5206\u985E"),e("th",null,"\u30E1\u30FC\u30AB\u30FC"),e("th",null,"\u54C1\u540D"),e("th",null,"\u578B\u756A"),e("th",null,"\u6570\u91CF"),e("th",null,"\u30B8\u30E7\u30D6\u756A\u53F7"),e("th",null,"\u73FE\u5834\u540D"),e("th")])],-1),L={class:"btn-rev-del"},D=["onClick"],T={class:"modal fade",id:"staticBackdrop","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},V={class:"modal-dialog modal-dialog-centered"},N={class:"modal-content"},F=e("div",{class:"modal-header border-0"},[e("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[e("span",{"aria-hidden":"true"},"\xD7")])],-1),H={class:"modal-body"},M={class:"form-fields justify-content-center"},E=e("div",{class:"register-label align-items-center",bis_skin_checked:"1"},"\u7F6E\u304D\u5834\u767B\u9332",-1),I=["value"],O={class:"modal-footer border-0 justify-content-center"};function P(a,n,U,q,i,b){const r=y("router-link");return l(),o("div",S,[e("div",x,[B,e("div",C,[e("table",W,[j,e("tbody",null,[(l(!0),o(c,null,u(i.list,(t,v)=>(l(),o("tr",{key:v},[e("td",null,s(t.order_date),1),e("td",null,s(t.orderer.user_name),1),e("td",null,s(t.item.category),1),e("td",null,s(t.item.manufacturer),1),e("td",null,s(t.item.item_name),1),e("td",null,s(t.item.item_number),1),e("td",null,s(t.amount),1),e("td",null,s(t.job.job_number),1),e("td",null,s(t.job.site_name),1),e("td",null,[e("div",L,[e("a",{type:"button",class:"delivery-btn",onClick:h(z=>i.record.order_id=t.id,["prevent"]),value:"\u767B\u9332","data-toggle":"modal","data-target":"#staticBackdrop"},"\u7D0D\u54C1",8,D),_(r,{to:{name:"Home",params:{id:t.id,type:"update"}},type:"submit",class:"revision-btn",value:"\u767B\u9332"},{default:m(()=>[p("\u4FEE\u6B63")]),_:2},1032,["to"]),_(r,{to:{name:"Home",params:{id:t.id,type:"duplicate"}},type:"button",class:"copy-content-btn disabled",value:"\u767B\u9332"},{default:m(()=>[p("\u5185\u5BB9\u30B3\u30D4\u30FC")]),_:2},1032,["to"])])])]))),128))])])]),e("div",T,[e("div",V,[e("div",N,[F,e("div",H,[e("div",M,[E,g(e("select",{class:"input-border","onUpdate:modelValue":n[0]||(n[0]=t=>i.record.warehouse_id=t),id:"cars"},[(l(!0),o(c,null,u(i.warehouse,t=>(l(),o("option",{value:t.id},s(t.warehouse_name),9,I))),256))],512),[[w,i.record.warehouse_id]])])]),e("div",O,[e("button",{onClick:n[1]||(n[1]=h(t=>b.moveToDelivery(),["prevent"])),type:"button",class:"complete-btn"},"\u7D0D\u54C1\u6E08\u307F")])])])])])])}const G=f(k,[["render",P]]);export{G as default};
